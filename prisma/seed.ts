import { PrismaClient } from '@prisma/client';
import bcrypt from 'bcryptjs';

const prisma = new PrismaClient();

async function main() {
  console.log('üå± Seeding database...');

  // 1. Create admin user
  const existingAdmin = await prisma.user.findUnique({ where: { username: 'admin' } });
  if (!existingAdmin) {
    const hashedPassword = await bcrypt.hash('admin123', 10);
    await prisma.user.create({
      data: {
        username: 'admin',
        password: hashedPassword,
        role: 'ADMIN',
      },
    });
    console.log('‚úÖ Admin user created: username=admin, password=admin123');
  } else {
    console.log('‚ÑπÔ∏è Admin user already exists');
  }

  // 2. Create categories
  const categoryCount = await prisma.category.count();
  if (categoryCount === 0) {
    await prisma.category.createMany({
      data: [
        { name: '–ù–æ–≤–∏–Ω–∏', description: '–û—Å—Ç–∞–Ω–Ω—ñ –Ω–æ–≤–∏–Ω–∏ –ü—Ä–æ—Ñ—Å–ø—ñ–ª–∫–∏ –ø—Ä–∞—Ü—ñ–≤–Ω–∏–∫—ñ–≤ –æ—Å–≤—ñ—Ç–∏ —ñ –Ω–∞—É–∫–∏' },
        { name: '–û–≥–æ–ª–æ—à–µ–Ω–Ω—è', description: '–í–∞–∂–ª–∏–≤—ñ –æ–≥–æ–ª–æ—à–µ–Ω–Ω—è —Ç–∞ –ø–æ–≤—ñ–¥–æ–º–ª–µ–Ω–Ω—è' },
        { name: '–ü–æ–¥—ñ—ó', description: '–ó–∞—Ö–æ–¥–∏ —Ç–∞ –ø–æ–¥—ñ—ó –ü—Ä–æ—Ñ—Å–ø—ñ–ª–∫–∏ –ø—Ä–∞—Ü—ñ–≤–Ω–∏–∫—ñ–≤ –æ—Å–≤—ñ—Ç–∏ —ñ –Ω–∞—É–∫–∏' },
      ],
    });
    console.log('‚úÖ Categories created');
  } else {
    console.log('‚ÑπÔ∏è Categories already exist');
  }

  // 3. Create pages
  const pageCount = await prisma.page.count();
  if (pageCount === 0) {
    await prisma.page.createMany({
      data: [
        {
          slug: 'about',
          title: '–ü—Ä–æ –Ω–∞—Å',
          content: '<h1>–ü—Ä–æ –ß–µ—Ä–Ω—ñ–≤–µ—Ü—å–∫—É –º—ñ—Å—å–∫—É –æ—Ä–≥–∞–Ω—ñ–∑–∞—Ü—ñ—é –ü—Ä–æ—Ñ—Å–ø—ñ–ª–∫–∏ –ø—Ä–∞—Ü—ñ–≤–Ω–∏–∫—ñ–≤ –æ—Å–≤—ñ—Ç–∏ —ñ –Ω–∞—É–∫–∏ –£–∫—Ä–∞—ó–Ω–∏</h1><p>–¢—É—Ç –±—É–¥–µ —ñ–Ω—Ñ–æ—Ä–º–∞—Ü—ñ—è –ø—Ä–æ –æ—Ä–≥–∞–Ω—ñ–∑–∞—Ü—ñ—é...</p>',
        },
        {
          slug: 'contacts',
          title: '–ö–æ–Ω—Ç–∞–∫—Ç–∏',
          content: '<h1>–ö–æ–Ω—Ç–∞–∫—Ç–Ω–∞ —ñ–Ω—Ñ–æ—Ä–º–∞—Ü—ñ—è</h1><p>–ê–¥—Ä–µ—Å–∞, —Ç–µ–ª–µ—Ñ–æ–Ω–∏, –µ–ª–µ–∫—Ç—Ä–æ–Ω–Ω–∞ –ø–æ—à—Ç–∞...</p>',
        },
      ],
    });
    console.log('‚úÖ Pages created');
  } else {
    console.log('‚ÑπÔ∏è Pages already exist');
  }

  // 4. Create team members
  const teamCount = await prisma.teamMember.count();
  if (teamCount === 0) {
    await prisma.teamMember.createMany({
      data: [
        {
          name: '–ß–æ—Ä—Ç–∏–∫ –ë–æ–≥–¥–∞–Ω –†–æ–º–∞–Ω–æ–≤–∏—á',
          position: '–ì–æ–ª–æ–≤–∞ –ß–µ—Ä–Ω—ñ–≤–µ—Ü—å–∫–æ—ó –º—ñ—Å—å–∫–æ—ó –æ—Ä–≥–∞–Ω—ñ–∑–∞—Ü—ñ—ó –ü—Ä–æ—Ñ—Å–ø—ñ–ª–∫–∏ –ø—Ä–∞—Ü—ñ–≤–Ω–∏–∫—ñ–≤ –æ—Å–≤—ñ—Ç–∏ —ñ –Ω–∞—É–∫–∏ –£–∫—Ä–∞—ó–Ω–∏',
          description: '–£–∫—Ä–∞—ó–Ω–µ—Ü—å, –æ—Å–≤—ñ—Ç–∞ –≤–∏—â–∞, –∑–∞–∫—ñ–Ω—á–∏–≤ –ß–µ—Ä–Ω—ñ–≤–µ—Ü—å–∫–∏–π –Ω–∞—Ü—ñ–æ–Ω–∞–ª—å–Ω–∏–π —É–Ω—ñ–≤–µ—Ä—Å–∏—Ç–µ—Ç —ñ–º–µ–Ω—ñ –Æ—Ä—ñ—è –§–µ–¥—å–∫–æ–≤–∏—á–∞ (—ñ—Å—Ç–æ—Ä–∏–∫, –≤—á–∏—Ç–µ–ª—å —ñ—Å—Ç–æ—Ä—ñ—ó).\n–£ –ø—Ä–æ—Ñ—Å–ø—ñ–ª–∫–∞—Ö –Ω–∞ –≤–∏–±–æ—Ä–Ω–∏—Ö –ø–æ—Å–∞–¥–∞—Ö –∑ 2005 —Ä–æ–∫—É.\n2005‚Äì2015 —Ä—Ä. ‚Äî –∑–∞—Å—Ç—É–ø–Ω–∏–∫ –≥–æ–ª–æ–≤–∏,\n2015‚Äì2020 —Ä—Ä. ‚Äî –æ–±—ñ–π–º–∞–≤ –ø–æ—Å–∞–¥—É –≥–æ–ª–æ–≤–∏ –ß–µ—Ä–Ω—ñ–≤–µ—Ü—å–∫–æ—ó –º—ñ—Å—å–∫–æ—ó –æ—Ä–≥–∞–Ω—ñ–∑–∞—Ü—ñ—ó –ü—Ä–æ—Ñ—Å–ø—ñ–ª–∫–∏ –ø—Ä–∞—Ü—ñ–≤–Ω–∏–∫—ñ–≤ –æ—Å–≤—ñ—Ç–∏ —ñ –Ω–∞—É–∫–∏ –£–∫—Ä–∞—ó–Ω–∏.\n–£ 2025 —Ä–æ—Ü—ñ –æ–±—Ä–∞–Ω–∏–π –Ω–∞ –Ω–∞—Å—Ç—É–ø–Ω–∏–π —Ç–µ—Ä–º—ñ–Ω.\n–ó–∞—Å–ª—É–∂–µ–Ω–∏–π –ø—Ä–∞—Ü—ñ–≤–Ω–∏–∫ –ø—Ä–æ—Ñ—Å–ø—ñ–ª–æ–∫ –£–∫—Ä–∞—ó–Ω–∏.',
          order: 1,
          active: true,
        },
        {
          name: '–ü–æ—à—Ç–∞—Ä –ì–∞–Ω–Ω–∞ –ú–∏–∫–æ–ª–∞—ó–≤–Ω–∞',
          position: '–ó–∞—Å—Ç—É–ø–Ω–∏–∫ –≥–æ–ª–æ–≤–∏ –ß–µ—Ä–Ω—ñ–≤–µ—Ü—å–∫–æ—ó –º—ñ—Å—å–∫–æ—ó –æ—Ä–≥–∞–Ω—ñ–∑–∞—Ü—ñ—ó –ü—Ä–æ—Ñ—Å–ø—ñ–ª–∫–∏ –ø—Ä–∞—Ü—ñ–≤–Ω–∏–∫—ñ–≤ –æ—Å–≤—ñ—Ç–∏ —ñ –Ω–∞—É–∫–∏ –£–∫—Ä–∞—ó–Ω–∏',
          description: '–£–∫—Ä–∞—ó–Ω–∫–∞, –æ—Å–≤—ñ—Ç–∞ –≤–∏—â–∞, –≤—á–∏—Ç–µ–ª—å –ø–æ—á–∞—Ç–∫–æ–≤–∏—Ö –∫–ª–∞—Å—ñ–≤, –ß–µ—Ä–Ω—ñ–≤–µ—Ü—å–∫–µ –ø–µ–¥–∞–≥–æ–≥—ñ—á–Ω–µ —É—á–∏–ª–∏—â–µ, –ß–µ—Ä–Ω—ñ–≤–µ—Ü—å–∫–∏–π –Ω–∞—Ü—ñ–æ–Ω–∞–ª—å–Ω–∏–π —É–Ω—ñ–≤–µ—Ä—Å–∏—Ç–µ—Ç —ñ–º–µ–Ω—ñ –Æ—Ä—ñ—è –§–µ–¥—å–∫–æ–≤–∏—á–∞ 1992-1996—Ä (—Ñ—ñ–ª–æ–ª–æ–≥), 2009-2011 –º–∞–≥—ñ—Å—Ç—Ä –¥–µ—Ä–∂–∞–≤–Ω–æ—ó —Å–ª—É–∂–±–∏ ¬´–î–µ—Ä–∂–∞–≤–Ω–∞ —Å–ª—É–∂–±–∞¬ª.\n–£ –ø—Ä–æ—Ñ—Å–ø—ñ–ª–∫–∞—Ö –Ω–∞ –≤–∏–±–æ—Ä–Ω–∏—Ö –ø–æ—Å–∞–¥–∞—Ö –∑ 1997 —Ä–æ–∫—É.\n1997‚Äì2005 —Ä—Ä. ‚Äì –∑–∞—Å—Ç—É–ø–Ω–∏–∫ –≥–æ–ª–æ–≤–∏ –ß–µ—Ä–Ω—ñ–≤–µ—Ü—å–∫–æ—ó –º—ñ—Å—å–∫–æ—ó –æ—Ä–≥–∞–Ω—ñ–∑–∞—Ü—ñ—ó –ø—Ä–æ—Ñ—Å–ø—ñ–ª–∫–∏ –ø—Ä–∞—Ü—ñ–≤–Ω–∏–∫—ñ–≤ –æ—Å–≤—ñ—Ç–∏ —ñ –Ω–∞—É–∫–∏.\n2005‚Äì2020 —Ä—Ä. ‚Äì –≥–æ–ª–æ–≤–∞ –ß–µ—Ä–Ω—ñ–≤–µ—Ü—å–∫–æ—ó –º—ñ—Å—å–∫–æ—ó –æ—Ä–≥–∞–Ω—ñ–∑–∞—Ü—ñ—ó –ø—Ä–æ—Ñ—Å–ø—ñ–ª–∫–∏ –ø—Ä–∞—Ü—ñ–≤–Ω–∏–∫—ñ–≤ –æ—Å–≤—ñ—Ç–∏ —ñ –Ω–∞—É–∫–∏.\n–ó 2025 —Ä–æ–∫—É ‚Äì –æ–±—Ä–∞–Ω–∞ –∑–∞—Å—Ç—É–ø–Ω–∏–∫–æ–º –≥–æ–ª–æ–≤–∏ –ß–µ—Ä–Ω—ñ–≤–µ—Ü—å–∫–æ—ó –º—ñ—Å—å–∫–æ—ó –æ—Ä–≥–∞–Ω—ñ–∑–∞—Ü—ñ—ó –ü—Ä–æ—Ñ—Å–ø—ñ–ª–∫–∏ –ø—Ä–∞—Ü—ñ–≤–Ω–∏–∫—ñ–≤ –æ—Å–≤—ñ—Ç–∏ —ñ –Ω–∞—É–∫–∏ –£–∫—Ä–∞—ó–Ω–∏.\n–ó–∞—Å–ª—É–∂–µ–Ω–∏–π –ø—Ä–∞—Ü—ñ–≤–Ω–∏–∫ –ø—Ä–æ—Ñ—Å–ø—ñ–ª–æ–∫ –£–∫—Ä–∞—ó–Ω–∏.',
          order: 2,
          active: true,
        },
        {
          name: '–õ—É–∫—ñ–π –õ–∞—Ä–∏—Å–∞ –ë–æ–≥–¥–∞–Ω—ñ–≤–Ω–∞',
          position: '–ì–æ–ª–æ–≤–Ω–∏–π –±—É—Ö–≥–∞–ª—Ç–µ—Ä –ß–µ—Ä–Ω—ñ–≤–µ—Ü—å–∫–æ—ó –º—ñ—Å—å–∫–æ—ó –æ—Ä–≥–∞–Ω—ñ–∑–∞—Ü—ñ—ó –ü—Ä–æ—Ñ—Å–ø—ñ–ª–∫–∏ –ø—Ä–∞—Ü—ñ–≤–Ω–∏–∫—ñ–≤ –æ—Å–≤—ñ—Ç–∏ —ñ –Ω–∞—É–∫–∏ –£–∫—Ä–∞—ó–Ω–∏',
          description: '–£–∫—Ä–∞—ó–Ω–∫–∞, –æ—Å–≤—ñ—Ç–∞ –≤–∏—â–∞, –∑–∞–∫—ñ–Ω—á–∏–ª–∞ –ë—É—á–∞—Ü—å–∫–∏–π —ñ–Ω—Å—Ç–∏—Ç—É—Ç –º–µ–Ω–µ–¥–∂–º–µ–Ω—Ç—É —ñ –∞—É–¥–∏—Ç—É (—Å–ø–µ—Ü—ñ–∞–ª—ñ—Å—Ç –∑ –æ–±–º—ñ–Ω—É —ñ –∞—É–¥–∏—Ç—É).\n–ü—Ä–∞—Ü—é–≤–∞–≤ –±—É—Ö–≥–∞–ª—Ç–µ—Ä–æ–º, –∑–∞—Å—Ç—É–ø–Ω–∏–∫–æ–º –≥–æ–ª–æ–≤–Ω–æ –±—É—Ö–≥–∞–ª—Ç–µ—Ä–∞ –ß–µ—Ä–Ω—ñ–≤–µ—Ü—å–∫–æ–≥–æ –º—ñ—Å—å–∫–æ–≥–æ —É–ø—Ä–∞–≤–ª—ñ–Ω–Ω—ñ –æ—Å–≤—ñ—Ç–∏.\n–ó —Ç—Ä–∞–≤–Ω—è 2020—Ä. ‚Äî –±—É—Ö–≥–∞–ª—Ç–µ—Ä –ß–µ—Ä–Ω—ñ–≤–µ—Ü—å–∫–æ—ó –º—ñ—Å—å–∫–æ—ó –æ—Ä–≥–∞–Ω—ñ–∑–∞—Ü—ñ—ó –ü—Ä–æ—Ñ—Å–ø—ñ–ª–∫–∏.\n–ó 11 —Ç—Ä–∞–≤–Ω—è 2021 —Ä–æ–∫—É ‚Äî –≥–æ–ª–æ–≤–Ω–∏–π –±—É—Ö–≥–∞–ª—Ç–µ—Ä –ß–µ—Ä–Ω—ñ–≤–µ—Ü—å–∫–æ—ó –º—ñ—Å—å–∫–æ—ó –æ—Ä–≥–∞–Ω—ñ–∑–∞—Ü—ñ—ó –ü—Ä–æ—Ñ—Å–ø—ñ–ª–∫–∏ –ø—Ä–∞—Ü—ñ–≤–Ω–∏–∫—ñ–≤ –æ—Å–≤—ñ—Ç–∏ —ñ –Ω–∞—É–∫–∏ –£–∫—Ä–∞—ó–Ω–∏.',
          order: 3,
          active: true,
        },
        {
          name: '–ë–µ–∑—Ä—É—á–∞–∫ –í–∞—Å–∏–ª—å –í–∞—Å–∏–ª—å–æ–≤–∏—á',
          position: '–Æ—Ä–∏—Å–∫–æ–Ω—Å—É–ª—å—Ç –ß–µ—Ä–Ω—ñ–≤–µ—Ü—å–∫–æ—ó –º—ñ—Å—å–∫–æ—ó –æ—Ä–≥–∞–Ω—ñ–∑–∞—Ü—ñ—ó –ü—Ä–æ—Ñ—Å–ø—ñ–ª–∫–∏ –ø—Ä–∞—Ü—ñ–≤–Ω–∏–∫—ñ–≤ –æ—Å–≤—ñ—Ç–∏ —ñ –Ω–∞—É–∫–∏ –£–∫—Ä–∞—ó–Ω–∏',
          description: '–£–∫—Ä–∞—ó–Ω–µ—Ü—å, –æ—Å–≤—ñ—Ç–∞ –≤–∏—â–∞, –∑–∞–∫—ñ–Ω—á–∏–≤ –•–∞—Ä–∫—ñ–≤—Å—å–∫–∏–π —é—Ä–∏–¥–∏—á–Ω–∏–π —ñ–Ω—Å—Ç–∏—Ç—É—Ç (–ø—Ä–∞–≤–æ–∑–Ω–∞–≤—Å—Ç–≤–æ).\n–ü—Ä–∞—Ü—é–≤–∞–≤ —Å–µ–∫—Ä–µ—Ç–∞—Ä–µ–º —Å—É–¥–æ–≤–æ–≥–æ –∑–∞—Å—ñ–¥–∞–Ω–Ω—è, —Å—É–¥–æ–≤–∏–º –≤–∏–∫–æ–Ω–∞–≤—Ü–µ–º, –Ω–∞—á–∞–ª—å–Ω–∏–∫–æ–º —Å–µ–∫—Ç–æ—Ä—É —Å—É–¥–æ–≤–æ—ó —Ä–æ–±–æ—Ç–∏ –≤—ñ–¥–¥—ñ–ª—É —é—Ä–∏—Å–ø—Ä—É–¥–µ–Ω—Ü—ñ—ó.\n–ì–æ–ª–æ–≤–Ω–∏–º –ø—Ä–∞–≤–æ–≤–∏–º —ñ–Ω—Å–ø–µ–∫—Ç–æ—Ä–æ–º –ß–µ—Ä–Ω—ñ–≤–µ—Ü—å–∫–æ—ó –º—ñ—Å—å–∫–æ—ó –æ—Ä–≥–∞–Ω—ñ–∑–∞—Ü—ñ—ó –ü—Ä–æ—Ñ—Å–ø—ñ–ª–∫–∏ –ø—Ä–∞—Ü—ñ–≤–Ω–∏–∫—ñ–≤ –æ—Å–≤—ñ—Ç–∏ —ñ –Ω–∞—É–∫–∏ –£–∫—Ä–∞—ó–Ω–∏, –≥–æ–ª–æ–≤–Ω–∏–º –¥–µ—Ä–∂–∞–≤–Ω–∏–º —ñ–Ω—Å–ø–µ–∫—Ç–æ—Ä–æ–º –ø—Ä–∞—Ü—ñ –ß–µ—Ä–Ω—ñ–≤–µ—Ü—å–∫–æ—ó –æ–±–ª–∞—Å—Ç—ñ, –≥–æ–ª–æ–≤–Ω–∏–º —Å–ø–µ—Ü—ñ–∞–ª—ñ—Å—Ç–æ–º –∑ –ø–∏—Ç–∞–Ω—å –ø—Ä–∞–≤–æ–≤–æ—ó —Ä–æ–±–æ—Ç–∏ –∞–ø–∞—Ä–∞—Ç—É –§–ü–£.\n–ó 2 —Å–µ—Ä–ø–Ω—è –Æ—Ä–∏—Å–∫–æ–Ω—Å—É–ª—å—Ç –ß–µ—Ä–Ω—ñ–≤–µ—Ü—å–∫–æ—ó –º—ñ—Å—å–∫–æ—ó –æ—Ä–≥–∞–Ω—ñ–∑–∞—Ü—ñ—ó –ü—Ä–æ—Ñ—Å–ø—ñ–ª–∫–∏ –ø—Ä–∞—Ü—ñ–≤–Ω–∏–∫—ñ–≤ –æ—Å–≤—ñ—Ç–∏ —ñ –Ω–∞—É–∫–∏ –£–∫—Ä–∞—ó–Ω–∏.',
          order: 4,
          active: true,
        },
      ],
    });
    console.log('‚úÖ Team members created');
  } else {
    console.log('‚ÑπÔ∏è Team members already exist');
  }

  console.log('üéâ Seeding complete!');
}

main()
  .catch((e) => {
    console.error('‚ùå Seeding error:', e);
    process.exit(1);
  })
  .finally(async () => {
    await prisma.$disconnect();
  });
